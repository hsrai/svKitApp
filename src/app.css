@import "tailwindcss";

/* ==========================================================================
   THE BRIDGE: Tailwind v4 Native Theme
   ========================================================================== */
@theme {
  /* Colors mapping to our JS-injected CSS Variables */
  --color-background: oklch(var(--bg-l) var(--bg-c) var(--h-primary));
  --color-primary:    oklch(var(--l-primary) var(--c-primary) var(--h-primary));
  --color-secondary:  oklch(var(--l-primary) var(--c-primary) var(--h-secondary));
  --color-accent:     oklch(var(--l-primary) var(--c-primary) var(--h-accent));
  --color-text:       oklch(var(--text-l) var(--bg-c) var(--h-primary));

  /* Custom Theme Tokens */
  --radius-theme: var(--radius);
  --spacing-theme: calc(1rem * var(--gap-mult));
  --shadow-theme: 0 10px 30px -10px rgba(0, 0, 0, var(--shadow-opacity));
  
  /* Overriding standard Tailwind tokens for fluid typography */
  --font-size-base: var(--font-base);
  --line-height-theme: var(--line-height);
}

/* ==========================================================================
   GLOBAL BASE STYLES
   ========================================================================== */
@layer base {
  body {
    @apply bg-background text-text transition-colors duration-500;
    @apply min-h-screen m-0;
    font-family: system-ui, -apple-system, sans-serif;
    font-size: var(--font-size-base);
    line-height: var(--line-height-theme);
  }
}

@layer components {
  /* DASHBOARD BLOCK */
  .dashboard { 
    @apply fixed bottom-theme right-theme z-50;
    @apply p-theme bg-background border border-text/10 rounded-theme shadow-theme; 
  }
  .dashboard__title { @apply text-lg font-bold mb-theme border-b border-text/10; }
  .dashboard__item  { @apply mb-theme flex flex-col gap-1; }
  .dashboard__label { @apply text-xs uppercase tracking-wider opacity-70; }
  .dashboard__input { @apply p-2 bg-text/5 border border-text/10 rounded-theme text-sm; }

  /* CARD BLOCK - Refined for Dynamic Spacing */
  /////////////////
  
  .card { @apply bg-text/5 p-theme rounded-theme shadow-theme mb-theme; }
  .card__header { @apply mb-theme; }
  .card__title { @apply text-2xl font-bold text-primary; }
  .card__subtitle { @apply text-sm font-medium opacity-60 italic; display: block; margin-top: 0.25rem; text-transform: none; }
  .card__body { line-height: var(--line-height-theme); @apply text-text/90; max-width: 70ch; margin-right: auto; }
  .card__body p { margin-bottom: calc(0.8em * var(--gap-mult)); }
  .card__body p:last-child { margin-bottom: 0; }
  .card__footer { @apply mt-theme flex gap-theme items-center; }
  .card__back-link { @apply text-xs font-bold text-accent hover:underline uppercase tracking-wider; }
  /* Ensure the Technical section/Table can still use full width if needed */
  #data .table-container, #code .code-block { max-width: none; }
  
  /* UI ELEMENTS */
  .main-content { @apply mx-auto p-theme; max-width: 1000px; }

  /* BUTTONS: Distinct styles for each type */
  .btn { @apply px-4 py-2 rounded-theme font-medium transition-all cursor-pointer inline-flex items-center justify-center; }
  .btn--primary { @apply bg-primary text-background hover:brightness-110 active:scale-95 shadow-sm; }
  .btn--secondary { @apply bg-secondary text-background hover:brightness-110 active:scale-95; }
  .btn--outline { @apply border-2 border-primary text-primary hover:bg-primary/10; }
  .btn--ghost { @apply text-text hover:bg-text/10; }

  /* TABLE: Testing data density and borders */
  .table-container { @apply overflow-x-auto my-theme border border-text/10 rounded-theme; }
  .table { @apply w-full text-left border-collapse; }
  .table th { @apply bg-text/5 p-3 text-xs uppercase tracking-wider font-bold border-b border-text/10; }
  .table td { @apply p-3 border-b border-text/10 text-sm; }

  /* LISTS */
  .list { @apply ml-6 my-4 space-y-2; }
  .list--ordered { @apply list-decimal; }
  .list--unordered { @apply list-disc; }

  .nav-links { @apply mt-8 pt-6 border-t border-text/10; }

  .nav-links__grid { @apply flex flex-wrap gap-x-8 gap-y-3; }

  .nav-links__item { @apply text-[11px] font-bold uppercase tracking-wider text-primary;

  @apply hover:underline decoration-2 underline-offset-4;
}

  /* CODE */
  .code-block { @apply bg-text/5 p-4 rounded-theme font-mono text-sm overflow-x-auto border-l-4 border-primary my-4; }
}
